<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>

    <script>

      $(document).ready(function(){
        var $body = $('body');
        //$body.html('');

        var $header = $("<header></header>");
              $header.appendTo($body);

        var $title = $("<h1 class='title'></h1>");
              $title.html("Welcome to Twittler");
              $title.appendTo($header);

        var $section = $("<section class = 'tweetlist'></section>");
            $section.appendTo($body);

        function displayTweet(index){
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');

          // Add <p> element and its class
          $tweet.par = function(text,className){
            var p = $("<p>"+text+"</p>");
            if (arguments.length>1){
                p.addClass(className);
            }
            this.append(p);
          };

          $tweet.par('@' + tweet.user + ': ' + tweet.message,"tweetText");
          $tweet.par(tweet.created_at,"dateTime");


          $tweet.addClass("tweetBox");
          $tweet.prependTo($section);

          // $tweet.on('click',function(){

          // })



          setTimeout(function(){displayTweet(index + 1);}, 3000);
        };


        displayTweet(0);

      });

    </script>
  </body>
</html>
